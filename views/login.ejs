<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spheremail Controller</title>
    <link href="/css/style.css" rel="stylesheet" type="text/css">

</head>

<body>
    <div class="container">
    <div class="logo">
        <svg class="sm-svg-logo" width="250" height="50" viewBox="0 0 587 105" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path class="sm-svg-logo__txt" d="M173.441 57.7565C171.711 56.3865 169.691 55.2265 167.441 54.3165C165.251 53.4165 162.961 52.6265 160.621 51.9765C158.891 51.5565 157.171 51.1265 155.471 50.6765C153.811 50.2365 152.301 49.6865 151.001 49.0365C149.751 48.3665 148.711 47.5465 147.931 46.6165C147.201 45.6865 146.831 44.4865 146.831 43.0665C146.831 41.7465 147.131 40.5765 147.721 39.5665C148.361 38.5365 149.181 37.6665 150.191 36.9665C151.231 36.2365 152.431 35.6765 153.761 35.3065C156.341 34.5265 159.271 34.5965 161.381 34.9865C162.431 35.1765 163.431 35.4665 164.351 35.8665C165.271 36.2665 166.161 36.7965 166.991 37.4365C167.831 38.0865 168.711 38.8865 169.651 39.8565C170.681 40.6065 171.761 40.9165 172.851 40.7665C173.951 40.6265 174.841 40.2365 175.491 39.6265C176.071 39.0865 176.491 38.3565 176.741 37.4665C177.001 36.5065 176.871 35.5565 176.351 34.6265C175.461 33.1065 174.321 31.7465 172.971 30.5965C171.661 29.4465 170.171 28.4765 168.571 27.7265C166.971 26.9365 165.211 26.3465 163.351 25.9565C159.061 25.0365 154.471 25.1665 150.271 26.6465C147.851 27.4665 145.671 28.6665 143.801 30.2065C141.931 31.7465 140.391 33.6365 139.241 35.8065C138.121 37.9865 137.551 40.4465 137.551 43.1165C137.551 45.7565 138.111 48.1065 139.201 50.1065C140.291 52.0465 141.791 53.7765 143.671 55.2265C145.531 56.6265 147.711 57.8165 150.161 58.7665C152.581 59.6665 155.171 60.4065 157.881 60.9565C159.381 61.4065 160.861 61.8665 162.341 62.3465C163.801 62.7865 165.131 63.3465 166.281 64.0365C167.401 64.7065 168.321 65.5465 169.021 66.5465C169.701 67.5165 170.041 68.7665 170.041 70.2565C170.041 71.7965 169.691 73.1665 169.001 74.3365C168.301 75.5265 167.371 76.5465 166.251 77.3665C165.141 78.1665 163.851 78.7865 162.411 79.2165C160.981 79.6165 159.521 79.8265 158.071 79.8265C155.151 79.8265 152.491 79.1965 150.161 77.9565C147.881 76.7165 146.081 74.9965 144.781 72.7965C143.791 71.5065 142.771 70.6665 141.751 70.3165C140.691 69.9465 139.561 70.0765 138.421 70.6765C137.411 71.1765 136.671 71.9965 136.211 73.0965C135.731 74.1965 135.851 75.5165 136.551 77.0165C137.311 78.6965 138.391 80.2965 139.781 81.7865C141.191 83.2565 142.831 84.5565 144.661 85.6365C146.521 86.7165 148.571 87.5765 150.751 88.1865C152.971 88.8065 155.301 89.1165 157.681 89.1165C160.651 89.1165 163.481 88.6365 166.091 87.6865C168.711 86.7365 171.011 85.4065 172.941 83.7365C174.911 82.0265 176.481 79.9765 177.591 77.6465C178.741 75.2765 179.331 72.6365 179.331 69.8165C179.331 67.1065 178.771 64.7365 177.681 62.7865C176.611 60.8265 175.191 59.1365 173.441 57.7565Z" fill="currentColor"></path>
            <path class="sm-svg-logo__txt" d="M224.69 49.0265C222.6 46.9065 220.1 45.2065 217.26 44.0065C214.45 42.7665 211.38 42.1365 208.14 42.1365C204.94 42.1365 201.87 42.7665 199.03 44.0065C196.19 45.2165 193.67 46.9065 191.55 49.0265C189.43 51.1165 187.72 53.6165 186.48 56.4665C185.27 59.3165 184.66 62.3965 184.66 65.6265V100.037C184.66 100.717 184.79 101.347 185.04 101.917C185.29 102.527 185.63 103.047 186.06 103.477C186.49 103.907 186.99 104.247 187.56 104.497C188.13 104.747 188.75 104.877 189.4 104.877C190.76 104.877 191.88 104.397 192.71 103.457C193.53 102.537 193.94 101.387 193.94 100.037V84.2765C193.94 84.2765 193.94 84.2765 193.95 84.2765V65.7265C193.95 65.6865 193.97 65.0265 193.97 65.0265C194.04 63.2965 194.39 61.6465 195.06 60.1165C195.8 58.3865 196.82 56.8665 198.08 55.6065C199.38 54.3365 200.9 53.3165 202.6 52.5765C204.33 51.8365 206.19 51.4565 208.14 51.4565C210.12 51.4565 211.98 51.8365 213.68 52.5765C215.38 53.3165 216.89 54.3365 218.15 55.6065C219.41 56.8665 220.41 58.3865 221.13 60.1265C221.87 61.8165 222.24 63.6665 222.24 65.6165C222.24 67.5365 221.86 69.3765 221.12 71.1065C220.41 72.8065 219.41 74.3265 218.14 75.6165C216.87 76.8865 215.36 77.9165 213.67 78.6965C211.98 79.4365 210.11 79.8065 208.14 79.8065C206.19 79.8065 204.33 79.4265 202.61 78.6965C202.38 78.5965 202.17 78.4765 201.95 78.3665V88.2965C203.91 88.8265 205.99 89.0965 208.14 89.0965C211.37 89.0965 214.44 88.4865 217.26 87.2665C220.1 86.0265 222.6 84.3165 224.69 82.1965C226.81 80.0765 228.5 77.5765 229.71 74.7665C230.95 71.9265 231.58 68.8365 231.58 65.6065C231.58 62.3765 230.95 59.2865 229.71 56.4465C228.5 53.6165 226.81 51.1065 224.69 49.0265Z" fill="currentColor"></path>
            <path class="sm-svg-logo__txt" d="M276.442 48.8466C274.542 46.7866 272.252 45.1366 269.632 43.9566C267.002 42.7466 264.102 42.1266 260.992 42.1266C258.332 42.1266 255.792 42.6766 253.462 43.7566C251.482 44.6466 249.652 45.8266 248.002 47.2666V30.1466C248.002 28.8266 247.552 27.6966 246.662 26.8166C245.762 25.8866 244.652 25.4066 243.362 25.4066C242.712 25.4066 242.102 25.5366 241.512 25.7866C240.982 26.0366 240.492 26.3766 240.072 26.7966C239.642 27.2266 239.302 27.7266 239.052 28.2966C238.802 28.8666 238.672 29.4866 238.672 30.1366V83.8666C238.672 84.5166 238.802 85.1366 239.052 85.7166C239.302 86.2466 239.622 86.7266 240.032 87.1766C240.452 87.5666 240.952 87.8866 241.522 88.1366C242.672 88.6366 244.082 88.6366 245.152 88.1366C245.712 87.8866 246.212 87.5666 246.652 87.1666C247.082 86.7366 247.412 86.2466 247.622 85.7166C247.872 85.1466 248.002 84.5266 248.002 83.8766V63.9466C248.062 62.1566 248.442 60.4866 249.112 58.9866C249.822 57.4466 250.762 56.0966 251.892 54.9966C253.062 53.8866 254.432 53.0166 255.972 52.3966C257.512 51.7766 259.202 51.4666 260.992 51.4666C262.832 51.4666 264.512 51.8266 265.992 52.5266C267.492 53.1966 268.782 54.1466 269.832 55.3466C270.902 56.5066 271.742 57.9266 272.332 59.5666C272.922 61.1766 273.222 62.9266 273.222 64.7966V83.9266C273.222 85.2166 273.672 86.3266 274.592 87.2366C275.522 88.0966 276.622 88.5266 277.872 88.5266C279.152 88.5266 280.262 88.0866 281.162 87.2266C282.062 86.3266 282.512 85.2266 282.512 83.9366V64.7966C282.512 61.6966 281.962 58.7466 280.892 56.0366C279.832 53.2966 278.342 50.8666 276.442 48.8466Z" fill="currentColor"></path>
            <path class="sm-svg-logo__txt" d="M371.031 47.3466C371.031 46.0266 370.591 44.9166 369.741 44.0666C368.911 43.1566 367.711 42.6966 366.191 42.6966H365.951C362.621 42.6966 359.421 43.3566 356.451 44.6666C353.521 45.9366 350.901 47.7066 348.681 49.9266C346.491 52.1466 344.741 54.7766 343.471 57.7366C342.201 60.6766 341.551 63.8666 341.551 67.2366V83.8566C341.551 85.1766 342.021 86.3066 342.961 87.2166C343.891 88.0666 345.021 88.5066 346.341 88.5066C347.601 88.5066 348.671 88.0666 349.541 87.1966C350.401 86.2966 350.831 85.1766 350.831 83.8666V67.2466C350.831 65.1466 351.241 63.1566 352.041 61.3266C352.851 59.4666 353.941 57.8366 355.311 56.4666C356.671 55.1066 358.291 54.0266 360.121 53.2466C361.941 52.4466 363.901 52.0366 365.941 52.0366H366.181C367.531 52.0366 368.681 51.5866 369.611 50.6966C370.561 49.7966 371.031 48.6766 371.031 47.3466Z" fill="currentColor"></path>
            <path class="sm-svg-logo__txt" d="M477.523 25.8965C477.273 25.8465 476.933 25.7465 476.423 25.8865L476.173 25.8965C475.213 26.0765 474.353 26.5065 473.563 27.2265L451.833 53.5465L430.053 27.1765C429.163 26.3565 428.103 25.9065 426.873 25.8365H426.733C425.443 25.8365 424.323 26.2865 423.403 27.1765C422.503 28.0465 422.043 29.1365 422.043 30.4265V83.9165C422.043 85.2066 422.493 86.3165 423.413 87.2265C424.343 88.0865 425.453 88.5165 426.743 88.5165C427.993 88.5165 429.083 88.0765 429.983 87.2165C430.913 86.3165 431.393 85.2066 431.393 83.9165V42.9965L448.823 64.0065L449.273 64.4065C450.583 65.4565 452.003 65.6565 453.473 65.0165C453.963 64.8265 454.463 64.4765 455.033 63.8965L472.263 43.0465V83.9165C472.263 85.2066 472.723 86.3165 473.633 87.2265C474.563 88.0865 475.663 88.5165 476.913 88.5165C478.203 88.5165 479.303 88.0765 480.203 87.2165C481.133 86.3165 481.613 85.2066 481.613 83.9165V30.4365C481.613 29.2465 481.213 28.2265 480.423 27.3965C479.603 26.5465 478.623 26.0365 477.523 25.8965Z" fill="currentColor"></path>
            <path class="sm-svg-logo__txt" d="M529.311 48.9265C527.221 46.8365 524.731 45.1665 521.931 43.9565C519.121 42.7465 516.071 42.1365 512.871 42.1365C509.671 42.1365 506.601 42.7665 503.761 44.0065C500.921 45.2165 498.401 46.9065 496.281 49.0265C494.161 51.1165 492.451 53.6165 491.211 56.4665C490.001 59.3065 489.391 62.3865 489.391 65.6265C489.391 68.8665 490.001 71.9465 491.221 74.7965C492.461 77.6065 494.161 80.0965 496.291 82.2265C498.411 84.3465 500.931 86.0565 503.771 87.2965C506.611 88.5065 509.681 89.1165 512.881 89.1165C515.001 89.1165 517.051 88.8065 518.981 88.2065V78.4265C518.791 78.5265 518.611 78.6265 518.411 78.7165C516.721 79.4565 514.851 79.8265 512.881 79.8265C510.931 79.8265 509.071 79.4465 507.351 78.7165C505.621 77.9465 504.091 76.9065 502.831 75.6465C501.561 74.3465 500.541 72.8265 499.801 71.1265C499.061 69.3965 498.681 67.5565 498.681 65.6365C498.681 63.6865 499.061 61.8465 499.801 60.1465C500.541 58.4165 501.561 56.8965 502.821 55.6365C504.121 54.3665 505.641 53.3465 507.341 52.6065C509.071 51.8665 510.931 51.4865 512.881 51.4865C514.861 51.4865 516.721 51.8665 518.411 52.6065C520.111 53.3465 521.621 54.3665 522.881 55.6365C524.141 56.8965 525.151 58.4165 525.861 60.1565C526.601 61.8465 526.971 63.6965 526.971 65.6465C526.971 65.6765 526.971 65.7065 526.971 65.7365H526.981V83.8165C526.991 85.0965 527.411 86.2165 528.221 87.1365C529.091 88.0765 530.201 88.5465 531.531 88.5465C532.891 88.5465 534.031 88.0765 534.921 87.1465C535.851 86.2165 536.321 85.0765 536.321 83.7565V65.3665C536.291 62.1665 535.641 59.1165 534.401 56.3065C533.141 53.4965 531.431 51.0165 529.311 48.9265Z" fill="currentColor"></path>
            <path class="sm-svg-logo__txt" d="M550.953 27.6666C549.503 27.6666 548.253 28.1666 547.223 29.1666C546.233 30.1566 545.723 31.4166 545.723 32.8966C545.723 33.5966 545.843 34.2766 546.113 34.9366C546.393 35.5266 546.763 36.0766 547.233 36.5866C547.723 37.0366 548.283 37.4066 548.913 37.6866C549.553 37.9666 550.233 38.1166 550.943 38.1166C551.683 38.1166 552.383 37.9766 553.023 37.6866C553.653 37.4066 554.203 37.0266 554.663 36.5666C555.153 36.0766 555.533 35.5166 555.783 34.9266C556.063 34.2866 556.213 33.6066 556.213 32.8966C556.213 31.4166 555.693 30.1566 554.673 29.1666C553.683 28.1766 552.433 27.6666 550.953 27.6666Z" fill="currentColor"></path>
            <path class="sm-svg-logo__txt" d="M551.041 42.7066C549.751 42.7066 548.631 43.1766 547.711 44.0966C546.781 44.9966 546.301 46.1066 546.301 47.3966V83.8766C546.301 84.5266 546.431 85.1366 546.681 85.7266C546.931 86.2566 547.271 86.7466 547.711 87.1866C548.131 87.5766 548.611 87.8966 549.151 88.1466C549.721 88.3966 550.341 88.5266 550.991 88.5266C551.641 88.5266 552.241 88.3966 552.781 88.1466C553.341 87.8966 553.841 87.5766 554.281 87.1766C554.711 86.7466 555.041 86.2466 555.251 85.7266C555.501 85.1566 555.631 84.5366 555.631 83.8866V47.3966C555.631 46.1166 555.191 45.0066 554.341 44.1166C553.481 43.1766 552.371 42.7066 551.041 42.7066Z" fill="currentColor"></path>
            <path class="sm-svg-logo__txt" d="M585.29 80.6566C584.42 79.6766 583.31 79.1866 581.98 79.1866C579.9 79.1866 578.22 78.5966 576.98 77.4466C575.77 76.2666 575.14 74.5366 575.11 72.3066V30.0966C575.11 28.7666 574.62 27.6366 573.65 26.7466C572.72 25.8566 571.6 25.4066 570.32 25.4066C569.06 25.4066 567.98 25.8666 567.12 26.7666C566.26 27.6666 565.82 28.7866 565.82 30.0966V72.3066C565.82 74.7066 566.22 76.9266 567.01 78.9066C567.84 80.8866 568.98 82.6166 570.4 84.0366C571.82 85.4266 573.53 86.5266 575.48 87.3266C577.43 88.1166 579.55 88.5166 581.79 88.5166H581.98C583.3 88.5166 584.41 88.0766 585.27 87.2166C586.13 86.3566 586.57 85.2566 586.57 83.9766C586.57 82.6866 586.14 81.5666 585.29 80.6566Z" fill="currentColor"></path>
            <path class="sm-svg-logo__txt" d="M328.73 48.9165C326.61 46.8265 324.09 45.1565 321.25 43.9465C318.44 42.7365 315.39 42.1265 312.19 42.1265C308.96 42.1265 305.87 42.7565 303.03 43.9965C300.19 45.2065 297.67 46.8965 295.55 49.0165C293.43 51.1065 291.72 53.6065 290.48 56.4565C289.27 59.2965 288.66 62.3765 288.66 65.6165C288.66 68.8565 289.27 71.9365 290.48 74.7765C291.72 77.6165 293.43 80.1365 295.55 82.2565C297.67 84.3465 300.19 86.0365 303.03 87.2765C305.88 88.4865 308.96 89.0965 312.19 89.0965C314.05 89.0965 315.77 88.9265 317.29 88.6065C318.82 88.3165 320.25 87.8965 321.53 87.3765C322.81 86.8465 323.98 86.2165 325 85.4865C326.01 84.7665 326.93 84.0065 327.68 83.2465C328.78 82.3165 329.36 81.2565 329.4 80.0965C329.47 78.9665 329.22 77.9365 328.64 77.0365C328.36 76.6165 328.04 76.2465 327.71 75.9465C327.34 75.5765 326.91 75.2965 326.41 75.1065C325.69 74.8565 324.92 74.7965 324.15 74.9365C323.4 75.0465 322.6 75.3965 321.76 75.9865L321.68 76.0565C320.61 77.2465 319.24 78.1765 317.58 78.8165C315.95 79.4665 314.13 79.7965 312.18 79.7965C310.54 79.7965 308.96 79.5265 307.48 79.0065C306.03 78.4765 304.7 77.7465 303.53 76.8265C302.39 75.8965 301.38 74.7865 300.56 73.5265C299.87 72.4065 299.35 71.1765 299.02 69.8565H331.16C332.51 69.8565 333.62 69.4365 334.45 68.6065C335.32 67.7765 335.76 66.6965 335.76 65.3965C335.73 62.1965 335.06 59.1465 333.79 56.3365C332.56 53.5165 330.85 51.0165 328.73 48.9165ZM298.77 61.9365C299.07 60.5565 299.56 59.2665 300.23 58.1165C301.03 56.7665 302.04 55.5965 303.25 54.6365C304.45 53.6465 305.83 52.8665 307.34 52.3065C310.43 51.1965 314.22 51.1865 317.32 52.3065C318.86 52.8265 320.25 53.5965 321.46 54.5865C322.69 55.5365 323.72 56.7065 324.52 58.0665C325.25 59.2265 325.77 60.5265 326.07 61.9265H298.77V61.9365Z" fill="currentColor"></path>
            <path class="sm-svg-logo__txt" d="M409.472 48.9165C407.352 46.8265 404.832 45.1565 401.992 43.9465C399.182 42.7365 396.132 42.1265 392.932 42.1265C389.692 42.1265 386.612 42.7565 383.772 43.9965C380.932 45.2065 378.412 46.8965 376.292 49.0165C374.172 51.1065 372.462 53.6065 371.222 56.4565C370.012 59.3065 369.402 62.3865 369.402 65.6165C369.402 68.8465 370.012 71.9265 371.222 74.7765C372.462 77.6165 374.172 80.1365 376.292 82.2565C378.412 84.3465 380.932 86.0365 383.772 87.2765C386.612 88.4865 389.702 89.0965 392.932 89.0965C394.792 89.0965 396.512 88.9265 398.042 88.6065C399.572 88.3165 401.002 87.8965 402.282 87.3765C403.562 86.8465 404.732 86.2165 405.752 85.4865C406.762 84.7665 407.682 84.0065 408.432 83.2465C409.532 82.3165 410.112 81.2565 410.152 80.0965C410.222 78.9665 409.972 77.9365 409.392 77.0365C409.112 76.6165 408.792 76.2465 408.462 75.9465C408.092 75.5765 407.662 75.2965 407.162 75.1065C406.442 74.8565 405.672 74.7965 404.902 74.9365C404.152 75.0465 403.352 75.3965 402.512 75.9865L402.432 76.0565C401.362 77.2465 399.992 78.1765 398.332 78.8165C396.702 79.4665 394.882 79.7965 392.922 79.7965C391.282 79.7965 389.702 79.5265 388.222 79.0065C386.772 78.4865 385.442 77.7465 384.272 76.8265C383.132 75.8965 382.122 74.7865 381.302 73.5265C380.612 72.4065 380.092 71.1765 379.762 69.8565H411.902C413.252 69.8565 414.362 69.4365 415.192 68.6065C416.062 67.7765 416.502 66.6965 416.502 65.3965C416.472 62.1965 415.802 59.1465 414.532 56.3365C413.302 53.5165 411.592 51.0165 409.472 48.9165ZM379.512 61.9365C379.812 60.5565 380.302 59.2765 380.972 58.1165C381.772 56.7665 382.782 55.5965 383.992 54.6365C385.192 53.6465 386.572 52.8665 388.082 52.3065C391.172 51.1965 394.962 51.1865 398.062 52.3065C399.602 52.8265 400.992 53.5965 402.202 54.5865C403.432 55.5365 404.462 56.7065 405.262 58.0765C405.992 59.2365 406.512 60.5365 406.812 61.9365H379.512Z" fill="currentColor"></path>
            <path class="sm-svg-logo__icon" d="M83.06 61.1664C78.3 74.8864 64.34 84.8464 47.9 84.8464C27.55 84.8464 11 69.5964 11 50.8464C11 35.6164 21.92 22.7064 36.93 18.3864V15.5464C36.93 12.4464 37.5 9.46638 38.54 6.72638C16.59 10.8264 0 29.0464 0 50.8464C0 75.6564 21.49 95.8464 47.9 95.8464C70.98 95.8464 90.3 80.4264 94.81 59.9864C92.41 60.7564 89.85 61.1764 87.19 61.1764H83.06V61.1664Z" fill="currentColor"></path>
            <path class="sm-svg-logo__icon" d="M97.1897 0H61.9297C57.0497 0 52.6897 2.27 49.8497 5.81C47.7097 8.47 46.4297 11.83 46.4297 15.5V16.85V46.13C46.4297 49.17 48.8897 51.63 51.9297 51.63H84.7797H87.1897C90.3697 51.63 93.3297 50.66 95.7997 49.01C99.9497 46.23 102.69 41.49 102.69 36.13V5.5C102.69 2.46 100.23 0 97.1897 0ZM91.6897 36.12C91.6897 38.6 89.6697 40.62 87.1897 40.62H84.7997H57.4297V16.81V15.5C57.4297 13.02 59.4497 11 61.9297 11H91.6997V36.12H91.6897Z" fill="currentColor"></path>
        </svg>
    </div>
                <form class="form_container">
                    <h1>Login</h1>
                    <label for='user_name'>Username</label>
                    <input type="text" name="user_name" required id="user_name">
                    <input type="password" required id="password">
                    <button class="button-82-pushable" role="button" type="submit" onclick='return login()'><span class="button-82-shadow"></span><span class="button-82-edge"></span><span class="button-82-front text">Login</span></button>
                </form>

    <script>
        function login(){
            let user_name = document.getElementById('user_name').value;
            let password = document.getElementById('password').value;
            let reqBody = {user_name: user_name, password: password}
            var myHeaders = new Headers();
            myHeaders.append('Content-Type', 'application/json');
            fetch('/api/auth/login',{
                method: "POST",
                mode: "cors",
                cache: "no-cache",
                credentials: "same-origin",
                headers: myHeaders,
                redirect: "follow",
                referrerPolicy: "no-referrer",
                body: JSON.stringify(reqBody),
            })
            .then(response =>{
                if(response.status != 200){
                    throw new Error("noPermissions");
                }
                return response.json()
            })
            .then(data => {
                    localStorage.setItem('token', data.token);
                    window.location.href = '/home';
                    alert("Restarted successfully!");
            })
            .catch(error => {
                if(error.message == 'noPermissions'){
                    alert("You are not permitted!");
                }
                else{
                    alert("Network Errors!");
                }
            });
            return false;
        }
    </script>
</body>

</html>